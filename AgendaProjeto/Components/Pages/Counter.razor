@page "/counter"
@using AgendaProjeto.Enumerations
@using AgendaProjeto.Models
@using AgendaProjeto.Services
@using static System.Net.Mime.MediaTypeNames
@rendermode InteractiveServer

<PageTitle>Counter</PageTitle>

<h1>Counter</h1>

<p role="status">Current count: @currentCount</p>

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>

@code {
    private int currentCount = 0;

    private void IncrementCount()
    {
        currentCount++;


        var teste = new AddressBookService();

        var contacts = new List<Contact>()
        {
            new Contact() { Name = "Zatta", Phones = new() { new Phone {Number = "17 98888-8888", Type = PhoneType.Mobile}}}
        };


        teste.AddContacts("Thiago", contacts);


        // AddressBook request = new()
        //     {
        //         UserName = "Thiago",
        //         Contacts = new()
        //         {
        //             new Contact() { Name = "Abner", Phones = new List<Phone>()
        //             {
        //                 new Phone {Number = "17 98888-8888" , Type = PhoneType.Mobile}
        //             } 
        //             },
        //            new Contact() { Name = "Joao", Phones = new List<Phone>()
        //             {
        //                 new Phone {Number = "17 98888-8888" , Type = PhoneType.Mobile}
        //             } 
        //            }
        //         }
        // };

        // teste.CreateDataFile(request);
    }
}
